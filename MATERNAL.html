
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>MEMAHAMI DATA &#8212; My sample book</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=87e54e7c" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=3ee479438cf8b5e0d341" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=3ee479438cf8b5e0d341" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=3ee479438cf8b5e0d341"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'MATERNAL';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Notebooks with MyST Markdown" href="markdown-notebooks.html" />
    <link rel="prev" title="Markdown Files" href="markdown.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/logo.png" class="logo__image only-light" alt="My sample book - Home"/>
    <script>document.write(`<img src="_static/logo.png" class="logo__image only-dark" alt="My sample book - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Welcome to your Jupyter Book
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="markdown.html">Markdown Files</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">MEMAHAMI DATA</a></li>



<li class="toctree-l1"><a class="reference internal" href="markdown-notebooks.html">Notebooks with MyST Markdown</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2FMATERNAL.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/MATERNAL.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>MEMAHAMI DATA</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">MEMAHAMI DATA</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#memahami-cara-memperoleh-data-bagaimana-data-didapat">1. Memahami cara memperoleh data (bagaimana data didapat)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#eksplorasi-data">2. Eksplorasi Data</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tipe-data-pada-setiap-kolom">3. Tipe data pada setiap kolom</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#identifikasi-kualitas-data">4. Identifikasi kualitas data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#a-pemeriksaan-missing-values">A. PEMERIKSAAN MISSING VALUES</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#b-pemeriksaan-local-outlier-factor-lof">B. PEMERIKSAAN LOCAL OUTLIER FACTOR (LOF)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#preprocessing-data">PREPROCESSING DATA</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#penghapusan-outlier-dengan-lof">1. Penghapusan Outlier dengan LOF</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#memisah-antar-fitur-dan-class">2. Memisah antar fitur dan class</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#normalisasi-data">3. Normalisasi Data</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#modelling-data">MODELLING DATA</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#perhitungan-naive-bayes">1. Perhitungan Naive bayes</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#a-memecah-antara-data-testing-dan-data-training">A. Memecah antara data testing dan data training</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#b-convert-data-training-untuk-perhitungan-manual">B. Convert data training untuk perhitungan manual</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#c-memeriksa-hasil-prediksi-class-antara-data-asli-dan-data-testing">C. Memeriksa hasil prediksi class antara data asli dan data testing</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#d-menghitung-data-akurasi-dari-data-testing">D. Menghitung data akurasi dari data testing</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#ensemble-learning">ENSEMBLE LEARNING</a></li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="memahami-data">
<h1>MEMAHAMI DATA<a class="headerlink" href="#memahami-data" title="Link to this heading">#</a></h1>
<p>Tahap ini mencakup empat cara untuk memahami data, yaitu memahami cara memperoleh data, eksplorasi data, mengetahui tipe data pada setiap kolom, dan mengidentifikasi kualitas data.</p>
<section id="memahami-cara-memperoleh-data-bagaimana-data-didapat">
<h2>1. Memahami cara memperoleh data (bagaimana data didapat)<a class="headerlink" href="#memahami-cara-memperoleh-data-bagaimana-data-didapat" title="Link to this heading">#</a></h2>
<p>Kode ini digunakan untuk memuat data dari UCI Dataset. Hal ini untuk mengimpor dan menampilkan data,  untuk memahami isi dari dataset sebelum melakukan eksplorasi, pembersihan dan analisis lebih lanjut</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;Maternal Health Risk Data Set.csv&#39;</span><span class="p">)</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">FileNotFoundError</span><span class="g g-Whitespace">                         </span>Traceback (most recent call last)
<span class="nn">&lt;ipython-input-1-52cb5b3e6bfb&gt;</span> in <span class="ni">&lt;cell line: 2&gt;</span><span class="nt">()</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="ne">----&gt; </span><span class="mi">2</span> <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;Maternal Health Risk Data Set.csv&#39;</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span> <span class="n">df</span>

<span class="nn">/usr/local/lib/python3.10/dist-packages/pandas/io/parsers/readers.py</span> in <span class="ni">read_csv</span><span class="nt">(filepath_or_buffer, sep, delimiter, header, names, index_col, usecols, dtype, engine, converters, true_values, false_values, skipinitialspace, skiprows, skipfooter, nrows, na_values, keep_default_na, na_filter, verbose, skip_blank_lines, parse_dates, infer_datetime_format, keep_date_col, date_parser, date_format, dayfirst, cache_dates, iterator, chunksize, compression, thousands, decimal, lineterminator, quotechar, quoting, doublequote, escapechar, comment, encoding, encoding_errors, dialect, on_bad_lines, delim_whitespace, low_memory, memory_map, float_precision, storage_options, dtype_backend)</span>
<span class="g g-Whitespace">    </span><span class="mi">910</span>     <span class="n">kwds</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">kwds_defaults</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">911</span> 
<span class="ne">--&gt; </span><span class="mi">912</span>     <span class="k">return</span> <span class="n">_read</span><span class="p">(</span><span class="n">filepath_or_buffer</span><span class="p">,</span> <span class="n">kwds</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">913</span> 
<span class="g g-Whitespace">    </span><span class="mi">914</span> 

<span class="nn">/usr/local/lib/python3.10/dist-packages/pandas/io/parsers/readers.py</span> in <span class="ni">_read</span><span class="nt">(filepath_or_buffer, kwds)</span>
<span class="g g-Whitespace">    </span><span class="mi">575</span> 
<span class="g g-Whitespace">    </span><span class="mi">576</span>     <span class="c1"># Create the parser.</span>
<span class="ne">--&gt; </span><span class="mi">577</span>     <span class="n">parser</span> <span class="o">=</span> <span class="n">TextFileReader</span><span class="p">(</span><span class="n">filepath_or_buffer</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">578</span> 
<span class="g g-Whitespace">    </span><span class="mi">579</span>     <span class="k">if</span> <span class="n">chunksize</span> <span class="ow">or</span> <span class="n">iterator</span><span class="p">:</span>

<span class="nn">/usr/local/lib/python3.10/dist-packages/pandas/io/parsers/readers.py</span> in <span class="ni">__init__</span><span class="nt">(self, f, engine, **kwds)</span>
<span class="g g-Whitespace">   </span><span class="mi">1405</span> 
<span class="g g-Whitespace">   </span><span class="mi">1406</span>         <span class="bp">self</span><span class="o">.</span><span class="n">handles</span><span class="p">:</span> <span class="n">IOHandles</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
<span class="ne">-&gt; </span><span class="mi">1407</span>         <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_engine</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1408</span> 
<span class="g g-Whitespace">   </span><span class="mi">1409</span>     <span class="k">def</span> <span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

<span class="nn">/usr/local/lib/python3.10/dist-packages/pandas/io/parsers/readers.py</span> in <span class="ni">_make_engine</span><span class="nt">(self, f, engine)</span>
<span class="g g-Whitespace">   </span><span class="mi">1659</span>                 <span class="k">if</span> <span class="s2">&quot;b&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">mode</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">1660</span>                     <span class="n">mode</span> <span class="o">+=</span> <span class="s2">&quot;b&quot;</span>
<span class="ne">-&gt; </span><span class="mi">1661</span>             <span class="bp">self</span><span class="o">.</span><span class="n">handles</span> <span class="o">=</span> <span class="n">get_handle</span><span class="p">(</span>
<span class="g g-Whitespace">   </span><span class="mi">1662</span>                 <span class="n">f</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1663</span>                 <span class="n">mode</span><span class="p">,</span>

<span class="nn">/usr/local/lib/python3.10/dist-packages/pandas/io/common.py</span> in <span class="ni">get_handle</span><span class="nt">(path_or_buf, mode, encoding, compression, memory_map, is_text, errors, storage_options)</span>
<span class="g g-Whitespace">    </span><span class="mi">857</span>         <span class="k">if</span> <span class="n">ioargs</span><span class="o">.</span><span class="n">encoding</span> <span class="ow">and</span> <span class="s2">&quot;b&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ioargs</span><span class="o">.</span><span class="n">mode</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">858</span>             <span class="c1"># Encoding</span>
<span class="ne">--&gt; </span><span class="mi">859</span>             <span class="n">handle</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">860</span>                 <span class="n">handle</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">861</span>                 <span class="n">ioargs</span><span class="o">.</span><span class="n">mode</span><span class="p">,</span>

<span class="ne">FileNotFoundError</span>: [Errno 2] No such file or directory: &#39;Maternal Health Risk Data Set.csv&#39;
</pre></div>
</div>
</div>
</div>
</section>
<section id="eksplorasi-data">
<h2>2. Eksplorasi Data<a class="headerlink" href="#eksplorasi-data" title="Link to this heading">#</a></h2>
<p>Setelah kita memuat dataset, langkah selanjutnya adalah melakukan eksplorasi data. Eksplorasi data adalah tahap awal dalam analisis data yang bertujuan untuk memahami karakteristik, pola, dan sifat dasar dari dataset. Tujuan utama dari eksplorasi data adalah untuk mendapatkan wawasan yang berguna dari data yang tersedia sebelum melakukan analisis yang lebih mendalam atau membangun model.</p>
<blockquote>
<div><p>A. PERHITUNGAN MANUAL</p>
</div></blockquote>
<p>Eksplorasi data secara manual melibatkan beberapa langkah penting:</p>
<ol class="arabic simple">
<li><p>Jumlah (Count): Ini menunjukkan berapa banyak entri data yang ada untuk setiap variabel. Dalam kasus ini, Anda memiliki 900 entri untuk setiap variabel.</p></li>
</ol>
<ol class="arabic simple" start="2">
<li><p>Rata-rata (Mean): Ini adalah nilai rata-rata dari seluruh data untuk setiap variabel. Rata-rata memberi Anda gambaran tentang nilai tengah dari distribusi data.</p></li>
</ol>
<ol class="arabic simple" start="3">
<li><p>Standar Deviasi (Standard Deviation): Standar deviasi mengukur seberapa jauh titik data tersebar dari rata-rata. Semakin tinggi nilai standar deviasi, semakin besar variasi dalam data.</p></li>
</ol>
<ol class="arabic simple" start="4">
<li><p>Minimum: Ini adalah nilai terkecil yang ada dalam dataset untuk setiap variabel. Ini memberi Anda gambaran tentang rentang nilai yang mungkin untuk setiap variabel.</p></li>
</ol>
<ol class="arabic simple" start="5">
<li><p>Persentil ke-25 (Q1): Ini adalah nilai yang membagi 25% data terendah dari yang lainnya. Dalam konteks ini, 25% dari data memiliki nilai di bawah nilai ini.</p></li>
</ol>
<ol class="arabic simple" start="6">
<li><p>Persentil ke-50 (Median atau Q2): Median adalah nilai tengah dari dataset saat diurutkan dari yang terkecil hingga yang terbesar. Dalam hal ini, 50% dari data memiliki nilai di bawah median.</p></li>
</ol>
<ol class="arabic simple" start="7">
<li><p>Persentil ke-75 (Q3): Ini adalah nilai yang membagi 75% data terendah dari yang lainnya. Dalam konteks ini, 75% dari data memiliki nilai di bawah nilai ini.</p></li>
</ol>
<ol class="arabic simple" start="8">
<li><p>Maksimum: Ini adalah nilai terbesar yang ada dalam dataset untuk setiap variabel. Ini memberi Anda gambaran tentang rentang nilai yang mungkin untuk setiap variabel.</p></li>
</ol>
<p>Berikut ini adalah perhitungan manual dalam excel</p>
<blockquote>
<div><p>B. PERHITUNGAN MENGGUNAKAN PYTHON</p>
</div></blockquote>
<p>Untuk mempermudah perhitungan ini, kita dapat menggunakan library pandas dalam Python. Dengan menggunakan kode ini, kita dapat dengan cepat mendapatkan ringkasan statistik dari dataset yang penting untuk analisis lebih lanjut.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Age</th>
      <th>SystolicBP</th>
      <th>DiastolicBP</th>
      <th>BS</th>
      <th>BodyTemp</th>
      <th>HeartRate</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>1014.000000</td>
      <td>1014.000000</td>
      <td>1014.000000</td>
      <td>1014.000000</td>
      <td>1014.000000</td>
      <td>1014.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>29.871795</td>
      <td>113.198225</td>
      <td>76.460552</td>
      <td>8.725986</td>
      <td>98.665089</td>
      <td>74.301775</td>
    </tr>
    <tr>
      <th>std</th>
      <td>13.474386</td>
      <td>18.403913</td>
      <td>13.885796</td>
      <td>3.293532</td>
      <td>1.371384</td>
      <td>8.088702</td>
    </tr>
    <tr>
      <th>min</th>
      <td>10.000000</td>
      <td>70.000000</td>
      <td>49.000000</td>
      <td>6.000000</td>
      <td>98.000000</td>
      <td>7.000000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>19.000000</td>
      <td>100.000000</td>
      <td>65.000000</td>
      <td>6.900000</td>
      <td>98.000000</td>
      <td>70.000000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>26.000000</td>
      <td>120.000000</td>
      <td>80.000000</td>
      <td>7.500000</td>
      <td>98.000000</td>
      <td>76.000000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>39.000000</td>
      <td>120.000000</td>
      <td>90.000000</td>
      <td>8.000000</td>
      <td>98.000000</td>
      <td>80.000000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>70.000000</td>
      <td>160.000000</td>
      <td>100.000000</td>
      <td>19.000000</td>
      <td>103.000000</td>
      <td>90.000000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="tipe-data-pada-setiap-kolom">
<h2>3. Tipe data pada setiap kolom<a class="headerlink" href="#tipe-data-pada-setiap-kolom" title="Link to this heading">#</a></h2>
<p>Setelah mendapatkan informasi awal melalui eksplorasi data, penting untuk mengetahui tipe data pada setiap kolom dalam dataset. Tipe data ini dapat berupa numerik, kategorikal, atau jenis data lainnya.</p>
<p>Berikut adalah detail tentang tipe data pada setiap kolom.</p>
</section>
<section id="identifikasi-kualitas-data">
<h2>4. Identifikasi kualitas data<a class="headerlink" href="#identifikasi-kualitas-data" title="Link to this heading">#</a></h2>
<p>Setelah memahami karakteristik dasar dataset, langkah selanjutnya adalah mengidentifikasi kualitas data, termasuk:</p>
<ul class="simple">
<li><p>Pemeriksaan Missing Value: Mengidentifikasi nilai yang hilang dalam dataset, yang dapat mempengaruhi hasil analisis dan model.</p></li>
</ul>
<ul class="simple">
<li><p>Pemeriksaan Local Outlier Factor (LOF): Mendeteksi outlier atau anomali dalam dataset menggunakan metode LOF, yang membantu meningkatkan keakuratan analisis.</p></li>
</ul>
<p>Di tahap ini, dilakukan perhitungan secara manual dengan langkah-langkah detail untuk memastikan kualitas data sebelum melakukan analisis lebih mendalam atau pembangunan model. Langkah-langkah manual ini penting untuk memahami secara mendalam bagaimana setiap hasil atau nilai yang dihasilkan, sedangkan penggunaan library khusus mempercepat proses dan memastikan akurasi perhitungan dalam skala yang lebih besar atau kompleks.</p>
<section id="a-pemeriksaan-missing-values">
<h3>A. PEMERIKSAAN MISSING VALUES<a class="headerlink" href="#a-pemeriksaan-missing-values" title="Link to this heading">#</a></h3>
<p>Langkah pertama untuk mengidentifikasi kualitas data salah satunya dengan pemeriksaan missing values. Pemeriksaan missing values sangat penting karena nilai yang hilang dapat mempengaruhi analisis dan model yang dibangun. Mengidentifikasi dan menangani missing values adalah langkah krusial dalam proses pembersihan data. Berikut adalah kode untuk memeriksa missing values dalam dataset:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Age</th>
      <th>SystolicBP</th>
      <th>DiastolicBP</th>
      <th>BS</th>
      <th>BodyTemp</th>
      <th>HeartRate</th>
      <th>RiskLevel</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>1</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>2</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>3</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>4</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>1009</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>1010</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>1011</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>1012</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>1013</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
  </tbody>
</table>
<p>1014 rows × 7 columns</p>
</div></div></div>
</div>
</section>
<section id="b-pemeriksaan-local-outlier-factor-lof">
<h3>B. PEMERIKSAAN LOCAL OUTLIER FACTOR (LOF)<a class="headerlink" href="#b-pemeriksaan-local-outlier-factor-lof" title="Link to this heading">#</a></h3>
<p>Langkah selanjutnya adalah deteksi outlier. Deteksi outlier adalah metode untuk mengidentifikasi titik-titik data yang dianggap sebagai outlier atau anomali. Outlier adalah nilai yang secara signifikan berbeda dari sebagian besar data lainnya dalam sebuah dataset. Mengidentifikasi outliers bermanfaat untuk meningkatkan akurasi analisis dan model prediktif. nah untuk pertemuan sebelumnya ada 2 cara menentukan outlier dimana ada euclidian distance dan manhattan distance. Kali ini, akan difokuskan pada penggunaan Manhattan distance.</p>
<blockquote>
<div><p>PERHITUNGAN MANUAL LOCAL OUTLIER FACTOR (LOF) MENGGUNAKAN EXCEL</p>
</div></blockquote>
<p>Untuk menghitung LOF secara manual kita menggunakan rumus Manhattan, dimana rumus nya bisa dilihat di bawah  kita perlu melalui beberapa langkah:</p>
<ol class="arabic simple">
<li><p>Persiapkan Data</p></li>
</ol>
<p>Langkah pertama dalam menghitung Local Outlier Factor (LOF) secara manual adalah menyiapkan data. Dalam contoh ini, kita menggunakan data dengan tujuh fitur numerik untuk masing-masing titik data. Misalnya, kita memilih 10 titik data untuk mempermudah perhitungan manual.</p>
<ol class="arabic simple" start="2">
<li><p>Menghitung jarak dan menentukan K-NEIGHBOUR</p></li>
</ol>
<p>Langkah berikutnya adalah menghitung jarak antara setiap pasangan titik data menggunakan metode jarak Manhattan, yang sering digunakan dalam analisis data untuk mengukur jarak antara titik-titik dalam ruang fitur. Jarak Manhattan dihitung sebagai jumlah dari selisih absolut antara nilai-nilai fitur dari dua titik data. Jarak Manhattan antara dua titik data 𝑥 dan 𝑦 dihitung menggunakan rumus berikut:</p>
<div class="math notranslate nohighlight">
\[d(x,y) = \sum_{i=1}^{n}(|x_i - y_i|)\]</div>
<p>Berikut adalah hasil perhitungan jarak menggunakan rumus Manhattan distance dalam Microsoft Excel.</p>
<p>Setelah mendapatkan hasil perhitungan jarak dengan menggunakan rumus Manhattan, langkah selanjutnya adalah melakukan peringkat (ranking) berdasarkan nilai jarak yang dihasilkan. Kita akan memilih dua tetangga terdekat berdasarkan peringkat ini. Dalam hal ini, kita menetapkan
𝑘 =2, jadi kita akan memilih 2 tetangga terdekat.</p>
<ol class="arabic simple" start="3">
<li><p>Menghitung  REACHABILITY DENSITY (RD) dan LOCAL REACHABILITY DENSITY(LRD)</p></li>
</ol>
<p>Setelah menentukan k-neighbors untuk setiap titik data berdasarkan jarak Manhattan, langkah berikutnya adalah menghitung:</p>
<ul class="simple">
<li><p>Reachability Distance (RD): RD antara titik data 𝑥 dan 𝑦 adalah maksimum antara k-distance dari titik 𝑦 dan jarak Manhattan antara 𝑥 dan 𝑦.</p></li>
</ul>
<div class="math notranslate nohighlight">
\[[
\text{reachdist}_k(x,y) = \max(\text{k-distance}(y), \text{dist}(x,y))]
\]</div>
<ul class="simple">
<li><p>Local Reachability Density (LRD): LRD untuk titik data 𝑥 dihitung sebagai kebalikan dari rata-rata dari RD dari k-neighbors terdekatnya.</p></li>
</ul>
<div class="math notranslate nohighlight">
\[[
\text{lrd}_k(x) = \frac{|N_k(x)|}{\sum_{y \in N_k(x)} \text{reachdist}_k(x,y)}
\]</div>
<p>Berikut adalah hasil perhitungan lrd</p>
<ol class="arabic simple" start="4">
<li><p>Menghitung  LOCAL OUTLIER FACTOR (LOF)</p></li>
</ol>
<p>Langkah terakhir adalah menghitung LOF untuk setiap titik data menggunakan nilai LRD yang telah dihitung sebelumnya. LOF untuk titik data
𝑥 adalah rata-rata dari rasio LRD dari titik 𝑥 dan LRD dari k-neighbors terdekatnya:</p>
<div class="math notranslate nohighlight">
\[
\text{lof}_k(x) = \frac{\sum_{y \in N_k(x)} \text{lrd}_k(y)}{|N_k(x)| \times \text{lrd}_k(x)}
\]</div>
<p>Setelah menghitung LOF untuk setiap titik data, Anda dapat menyusun peringkat dari nilai LOF tersebut. Titik data dengan nilai LOF tertinggi dianggap sebagai outlier atau anomali, karena mereka memiliki nilai LOF yang tinggi dibandingkan dengan tetangga-tetangga mereka. Berikut adalah hasilnya</p>
<blockquote>
<div><p>PERHITUNGAN  LOCAL OUTLIER FACTOR (LOF) MENGGUNAKAN PYTHON</p>
</div></blockquote>
<p>Untuk perhitungan LOF menggunakan Python, kita bisa menggunakan library scikit-learn. Ini mempermudah dan mempercepat proses deteksi outliers. Berikut adalah kode untuk menghitung LOF:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">sklearn.neighbors</span> <span class="kn">import</span> <span class="n">LocalOutlierFactor</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="c1"># Baca dataset</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;Maternal Health Risk Data Set.csv&#39;</span><span class="p">)</span>

<span class="c1"># Siapkan data untuk LOF (drop kolom &#39;Diagnosis&#39; karena fitur kategorikal)</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;RiskLevel&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># Inisialisasi model LOF</span>
<span class="n">lof</span> <span class="o">=</span> <span class="n">LocalOutlierFactor</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">contamination</span><span class="o">=</span><span class="mf">0.040</span><span class="p">)</span>

<span class="c1"># Terapkan LOF pada dataset</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">lof</span><span class="o">.</span><span class="n">fit_predict</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="c1"># fit_predict(x): Menerapkan model LOF pada dataset x dan mengembalikan prediksi. Hasil prediksi berupa label -1 untuk outlier dan 1 untuk inlier.</span>
<span class="c1"># Skor anomali (semakin rendah, semakin besar kemungkinan outlier)</span>
<span class="n">anomaly_scores</span> <span class="o">=</span> <span class="n">lof</span><span class="o">.</span><span class="n">negative_outlier_factor_</span> <span class="c1"># negative_outlier_factor_: Menghasilkan skor anomali untuk setiap sampel dalam dataset. Semakin rendah nilainya, semakin besar kemungkinan sampel tersebut adalah outlier.</span>
<span class="c1"># Tambahkan kolom hasil prediksi dan skor anomali ke dalam dataframe</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;LOF_Prediksi&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">y_pred</span> <span class="c1"># Menambahkan kolom LOF_Prediksi ke DataFrame df yang berisi hasil prediksi LOF (1 untuk inlier, -1 untuk outlier).</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;LOF_Skor_Anomali&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">anomaly_scores</span> <span class="c1"># Menambahkan kolom LOF_Skor_Anomali yang berisi skor anomali dari LOF.</span>

<span class="c1"># Visualisasi hasil (opsional)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span> <span class="c1"># Membuat figure baru dengan ukuran 10x6.</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;LOF Anomaly Scores&quot;</span><span class="p">)</span> <span class="c1"># Memberi judul pada plot.</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">anomaly_scores</span><span class="p">)),</span> <span class="n">anomaly_scores</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="p">(</span><span class="n">y_pred</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;coolwarm&#39;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">)</span> <span class="c1"># Membuat scatter plot dari skor anomali.</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axhline</span><span class="p">(</span><span class="n">y</span><span class="o">=-</span><span class="mf">0.4</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">)</span>  <span class="c1"># Menambahkan garis horizontal pada y = -1.3 untuk memisahkan outlier (opsional, dapat disesuaikan dengan konteks data).</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Indeks&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Skor Anomali LOF&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<a class="reference internal image-reference" href="_images/b771962cf8cf26f2929033929789910efd83a900cdedba16ad6b101dcac032c0.png"><img alt="_images/b771962cf8cf26f2929033929789910efd83a900cdedba16ad6b101dcac032c0.png" src="_images/b771962cf8cf26f2929033929789910efd83a900cdedba16ad6b101dcac032c0.png" style="width: 857px; height: 547px;" /></a>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Age</th>
      <th>SystolicBP</th>
      <th>DiastolicBP</th>
      <th>BS</th>
      <th>BodyTemp</th>
      <th>HeartRate</th>
      <th>RiskLevel</th>
      <th>LOF_Prediksi</th>
      <th>LOF_Skor_Anomali</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>25</td>
      <td>130</td>
      <td>80</td>
      <td>15.0</td>
      <td>98.0</td>
      <td>86</td>
      <td>high risk</td>
      <td>-1</td>
      <td>-6.742179</td>
    </tr>
    <tr>
      <th>1</th>
      <td>35</td>
      <td>140</td>
      <td>90</td>
      <td>13.0</td>
      <td>98.0</td>
      <td>70</td>
      <td>high risk</td>
      <td>1</td>
      <td>-1.089614</td>
    </tr>
    <tr>
      <th>2</th>
      <td>29</td>
      <td>90</td>
      <td>70</td>
      <td>8.0</td>
      <td>100.0</td>
      <td>80</td>
      <td>high risk</td>
      <td>1</td>
      <td>-1.127306</td>
    </tr>
    <tr>
      <th>3</th>
      <td>30</td>
      <td>140</td>
      <td>85</td>
      <td>7.0</td>
      <td>98.0</td>
      <td>70</td>
      <td>high risk</td>
      <td>1</td>
      <td>-1.256126</td>
    </tr>
    <tr>
      <th>4</th>
      <td>35</td>
      <td>120</td>
      <td>60</td>
      <td>6.1</td>
      <td>98.0</td>
      <td>76</td>
      <td>low risk</td>
      <td>1</td>
      <td>-1.000000</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>1009</th>
      <td>22</td>
      <td>120</td>
      <td>60</td>
      <td>15.0</td>
      <td>98.0</td>
      <td>80</td>
      <td>high risk</td>
      <td>1</td>
      <td>-2.387983</td>
    </tr>
    <tr>
      <th>1010</th>
      <td>55</td>
      <td>120</td>
      <td>90</td>
      <td>18.0</td>
      <td>98.0</td>
      <td>60</td>
      <td>high risk</td>
      <td>1</td>
      <td>-1.143860</td>
    </tr>
    <tr>
      <th>1011</th>
      <td>35</td>
      <td>85</td>
      <td>60</td>
      <td>19.0</td>
      <td>98.0</td>
      <td>86</td>
      <td>high risk</td>
      <td>1</td>
      <td>-1.503361</td>
    </tr>
    <tr>
      <th>1012</th>
      <td>43</td>
      <td>120</td>
      <td>90</td>
      <td>18.0</td>
      <td>98.0</td>
      <td>70</td>
      <td>high risk</td>
      <td>1</td>
      <td>-1.098846</td>
    </tr>
    <tr>
      <th>1013</th>
      <td>32</td>
      <td>120</td>
      <td>65</td>
      <td>6.0</td>
      <td>101.0</td>
      <td>76</td>
      <td>mid risk</td>
      <td>1</td>
      <td>-1.383385</td>
    </tr>
  </tbody>
</table>
<p>1014 rows × 9 columns</p>
</div></div></div>
</div>
</section>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="preprocessing-data">
<h1>PREPROCESSING DATA<a class="headerlink" href="#preprocessing-data" title="Link to this heading">#</a></h1>
<p>Setelah memahami data, langkah berikutnya adalah melakukan preprocessing data untuk mempersiapkannya sebelum proses pengolahan lebih lanjut. Dalam tahapan preprocessing ini, kami melakukan 3 langkah utama:</p>
<section id="penghapusan-outlier-dengan-lof">
<h2>1. Penghapusan Outlier dengan LOF<a class="headerlink" href="#penghapusan-outlier-dengan-lof" title="Link to this heading">#</a></h2>
<p>Langkah pertama adalah menghapus outlier menggunakan metode Local Outlier Factor (LOF) dari dataset. Penghapusan outlier sangat penting untuk membersihkan data dari nilai yang tidak lazim atau anomali yang dapat mempengaruhi hasil analisis. Outlier diidentifikasi dengan kondisi di mana nilai ‘LOF_Prediksi’ tidak sama dengan -1. Dan Berikut adalah langkah-langkahnya:</p>
<ol class="arabic simple">
<li><p>Kami memeriksa setiap baris dalam kolom ‘LOF_Prediksi’ dari DataFrame df.</p></li>
</ol>
<ol class="arabic simple" start="2">
<li><p>Baris-baris yang memiliki nilai tidak sama dengan -1 dianggap sebagai outlier dan akan dihapus.</p></li>
</ol>
<ol class="arabic simple" start="3">
<li><p>Pada data frame baru, df_cleaned dibuat hanya dengan baris-baris yang tidak dianggap sebagai outlier</p></li>
</ol>
<ol class="arabic simple" start="4">
<li><p>Setelah menghapus outlier, jumlah baris data yang tersisa adalah 864 dari total awal 900 baris.</p></li>
</ol>
<p>Kode di bawah digunakan untuk menghapus baris-baris yang dianggap sebagai outlier dari sebuah dataset menggunakan prediksi dari metode LOF. Awalnya, dataset memiliki 900 baris data. Setelah menghapus baris-baris yang dianggap outlier, dataset yang bersih (df_cleaned) memiliki 864 baris data. Ini menunjukkan bahwa 36 baris telah dihapus karena terdeteksi sebagai outlier.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Hapus data yang terdeteksi sebagai outlier</span>
<span class="n">df_cleaned</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;LOF_Prediksi&#39;</span><span class="p">]</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># memilih baris dengan prediksi LOF yang bukan -1 (outlier) dan mereset indeks</span>
<span class="n">df_cleaned</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Age</th>
      <th>SystolicBP</th>
      <th>DiastolicBP</th>
      <th>BS</th>
      <th>BodyTemp</th>
      <th>HeartRate</th>
      <th>RiskLevel</th>
      <th>LOF_Prediksi</th>
      <th>LOF_Skor_Anomali</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>35</td>
      <td>140</td>
      <td>90</td>
      <td>13.00</td>
      <td>98.0</td>
      <td>70</td>
      <td>high risk</td>
      <td>1</td>
      <td>-1.089614</td>
    </tr>
    <tr>
      <th>1</th>
      <td>29</td>
      <td>90</td>
      <td>70</td>
      <td>8.00</td>
      <td>100.0</td>
      <td>80</td>
      <td>high risk</td>
      <td>1</td>
      <td>-1.127306</td>
    </tr>
    <tr>
      <th>2</th>
      <td>30</td>
      <td>140</td>
      <td>85</td>
      <td>7.00</td>
      <td>98.0</td>
      <td>70</td>
      <td>high risk</td>
      <td>1</td>
      <td>-1.256126</td>
    </tr>
    <tr>
      <th>3</th>
      <td>35</td>
      <td>120</td>
      <td>60</td>
      <td>6.10</td>
      <td>98.0</td>
      <td>76</td>
      <td>low risk</td>
      <td>1</td>
      <td>-1.000000</td>
    </tr>
    <tr>
      <th>4</th>
      <td>23</td>
      <td>140</td>
      <td>80</td>
      <td>7.01</td>
      <td>98.0</td>
      <td>70</td>
      <td>high risk</td>
      <td>1</td>
      <td>-1.728729</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>969</th>
      <td>22</td>
      <td>120</td>
      <td>60</td>
      <td>15.00</td>
      <td>98.0</td>
      <td>80</td>
      <td>high risk</td>
      <td>1</td>
      <td>-2.387983</td>
    </tr>
    <tr>
      <th>970</th>
      <td>55</td>
      <td>120</td>
      <td>90</td>
      <td>18.00</td>
      <td>98.0</td>
      <td>60</td>
      <td>high risk</td>
      <td>1</td>
      <td>-1.143860</td>
    </tr>
    <tr>
      <th>971</th>
      <td>35</td>
      <td>85</td>
      <td>60</td>
      <td>19.00</td>
      <td>98.0</td>
      <td>86</td>
      <td>high risk</td>
      <td>1</td>
      <td>-1.503361</td>
    </tr>
    <tr>
      <th>972</th>
      <td>43</td>
      <td>120</td>
      <td>90</td>
      <td>18.00</td>
      <td>98.0</td>
      <td>70</td>
      <td>high risk</td>
      <td>1</td>
      <td>-1.098846</td>
    </tr>
    <tr>
      <th>973</th>
      <td>32</td>
      <td>120</td>
      <td>65</td>
      <td>6.00</td>
      <td>101.0</td>
      <td>76</td>
      <td>mid risk</td>
      <td>1</td>
      <td>-1.383385</td>
    </tr>
  </tbody>
</table>
<p>974 rows × 9 columns</p>
</div></div></div>
</div>
<p>Setelah data Outlier dihapus maka hasil akhirnya adalah DataFrame df yang bersih dan siap untuk analisis lebih lanjut, tanpa kolom yang tidak diperlukan lagi setelah pembersihan outlier.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">df_cleaned</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;LOF_Prediksi&#39;</span><span class="p">,</span> <span class="s1">&#39;LOF_Skor_Anomali&#39;</span><span class="p">])</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Age</th>
      <th>SystolicBP</th>
      <th>DiastolicBP</th>
      <th>BS</th>
      <th>BodyTemp</th>
      <th>HeartRate</th>
      <th>RiskLevel</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>35</td>
      <td>140</td>
      <td>90</td>
      <td>13.00</td>
      <td>98.0</td>
      <td>70</td>
      <td>high risk</td>
    </tr>
    <tr>
      <th>1</th>
      <td>29</td>
      <td>90</td>
      <td>70</td>
      <td>8.00</td>
      <td>100.0</td>
      <td>80</td>
      <td>high risk</td>
    </tr>
    <tr>
      <th>2</th>
      <td>30</td>
      <td>140</td>
      <td>85</td>
      <td>7.00</td>
      <td>98.0</td>
      <td>70</td>
      <td>high risk</td>
    </tr>
    <tr>
      <th>3</th>
      <td>35</td>
      <td>120</td>
      <td>60</td>
      <td>6.10</td>
      <td>98.0</td>
      <td>76</td>
      <td>low risk</td>
    </tr>
    <tr>
      <th>4</th>
      <td>23</td>
      <td>140</td>
      <td>80</td>
      <td>7.01</td>
      <td>98.0</td>
      <td>70</td>
      <td>high risk</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>969</th>
      <td>22</td>
      <td>120</td>
      <td>60</td>
      <td>15.00</td>
      <td>98.0</td>
      <td>80</td>
      <td>high risk</td>
    </tr>
    <tr>
      <th>970</th>
      <td>55</td>
      <td>120</td>
      <td>90</td>
      <td>18.00</td>
      <td>98.0</td>
      <td>60</td>
      <td>high risk</td>
    </tr>
    <tr>
      <th>971</th>
      <td>35</td>
      <td>85</td>
      <td>60</td>
      <td>19.00</td>
      <td>98.0</td>
      <td>86</td>
      <td>high risk</td>
    </tr>
    <tr>
      <th>972</th>
      <td>43</td>
      <td>120</td>
      <td>90</td>
      <td>18.00</td>
      <td>98.0</td>
      <td>70</td>
      <td>high risk</td>
    </tr>
    <tr>
      <th>973</th>
      <td>32</td>
      <td>120</td>
      <td>65</td>
      <td>6.00</td>
      <td>101.0</td>
      <td>76</td>
      <td>mid risk</td>
    </tr>
  </tbody>
</table>
<p>974 rows × 7 columns</p>
</div></div></div>
</div>
</section>
<section id="memisah-antar-fitur-dan-class">
<h2>2. Memisah antar fitur dan class<a class="headerlink" href="#memisah-antar-fitur-dan-class" title="Link to this heading">#</a></h2>
<p>Setelah membersihkan outlier, dataset dipisahkan menjadi fitur (X) dan kelas (Y) untuk proses selanjutnya. Fitur yang dipilih untuk analisis meliputi ‘Area’, ‘Major Axis Length’, ‘Minor Axis Length’, ‘Eccentricity’, ‘Convex Area’, ‘Extent’, dan ‘Perimeter’. Kelas atau label terdiri dari ‘Kecimen’ dan ‘Besni’. Pada proses pemisahan ini menggunakan:</p>
<ol class="arabic simple">
<li><p>train_test_split: untuk membagi data menjadi set pelatihan dan pengujian</p></li>
</ol>
<ol class="arabic simple" start="2">
<li><p>x: berisi semua kolom kecuali Class (fitur)</p></li>
</ol>
<ol class="arabic simple" start="3">
<li><p>y: berisi kolom Class (label atau target)</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="c1"># Memisahkan Antara feature dan Class</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">&#39;RiskLevel&#39;</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;RiskLevel&#39;</span><span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;X (berisi fitur) </span><span class="se">\n</span><span class="s1"> </span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Y (berisi Class) </span><span class="se">\n</span><span class="s1"> </span><span class="si">{</span><span class="n">y</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="n">x_std</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>X (berisi fitur) 
      Age  SystolicBP  DiastolicBP     BS  BodyTemp  HeartRate
0     35         140           90  13.00      98.0         70
1     29          90           70   8.00     100.0         80
2     30         140           85   7.00      98.0         70
3     35         120           60   6.10      98.0         76
4     23         140           80   7.01      98.0         70
..   ...         ...          ...    ...       ...        ...
969   22         120           60  15.00      98.0         80
970   55         120           90  18.00      98.0         60
971   35          85           60  19.00      98.0         86
972   43         120           90  18.00      98.0         70
973   32         120           65   6.00     101.0         76

[974 rows x 6 columns]
Y (berisi Class) 
 0      high risk
1      high risk
2      high risk
3       low risk
4      high risk
         ...    
969    high risk
970    high risk
971    high risk
972    high risk
973     mid risk
Name: RiskLevel, Length: 974, dtype: object
</pre></div>
</div>
</div>
</div>
</section>
<section id="normalisasi-data">
<h2>3. Normalisasi Data<a class="headerlink" href="#normalisasi-data" title="Link to this heading">#</a></h2>
<p>Data yang telah dipisahkan kemudian dinormalisasi untuk memastikan semua fitur memiliki rentang nilai yang sama, yaitu antara 0.1 hingga 1.0. Proses normalisasi ini menggunakan:</p>
<ol class="arabic simple">
<li><p>MinMaxScaler dari sklearn.preprocessing, yang mana digunakan untuk mentransformasi fitur sehingga nilainya berada dalam rentang yang diinginkan.</p></li>
</ol>
<ol class="arabic simple" start="2">
<li><p>Hasil transformasi data disimpan kembali dalam bentuk DataFrame untuk memudahkan analisis lebih lanjut.</p></li>
</ol>
<ol class="arabic simple" start="3">
<li><p>Objek MinMaxScaler disimpan menggunakan modul pickle untuk mempertahankan konfigurasi normalisasi yang sama untuk penggunaan selanjutnya</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pickle</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">MinMaxScaler</span>

<span class="c1"># Assume x_std is your standardized dataset</span>
<span class="c1"># x_std = ...</span>

<span class="c1"># Define the filename for saving the scaler</span>
<span class="n">filename</span> <span class="o">=</span> <span class="s2">&quot;my_preprocessing_maternal.pickle&quot;</span>

<span class="c1"># Step 1: Feature Scaling</span>
<span class="n">scaler</span> <span class="o">=</span> <span class="n">MinMaxScaler</span><span class="p">()</span>
<span class="n">scaler</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">x_std</span><span class="p">)</span>  <span class="c1"># Fit the scaler on the dataset</span>
<span class="n">x_scaled</span> <span class="o">=</span> <span class="n">scaler</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">x_std</span><span class="p">)</span>  <span class="c1"># Transform the dataset</span>

<span class="c1"># Convert the scaled array back to a DataFrame</span>
<span class="n">x_scaled</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">x_scaled</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Age&#39;</span><span class="p">,</span> <span class="s1">&#39;SystolicBP&#39;</span><span class="p">,</span> <span class="s1">&#39;DiastolicBP&#39;</span><span class="p">,</span> <span class="s1">&#39;BS&#39;</span><span class="p">,</span> <span class="s1">&#39;BodyTemp&#39;</span><span class="p">,</span> <span class="s1">&#39;HeartRate&#39;</span><span class="p">])</span>

<span class="c1"># Save the scaler model</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s2">&quot;wb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
    <span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">scaler</span><span class="p">,</span> <span class="n">file</span><span class="p">)</span>

<span class="c1"># Output the scaled DataFrame</span>
<span class="n">x_scaled</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Age</th>
      <th>SystolicBP</th>
      <th>DiastolicBP</th>
      <th>BS</th>
      <th>BodyTemp</th>
      <th>HeartRate</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.416667</td>
      <td>0.777778</td>
      <td>0.803922</td>
      <td>0.538462</td>
      <td>0.0</td>
      <td>0.333333</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.316667</td>
      <td>0.222222</td>
      <td>0.411765</td>
      <td>0.153846</td>
      <td>0.4</td>
      <td>0.666667</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.333333</td>
      <td>0.777778</td>
      <td>0.705882</td>
      <td>0.076923</td>
      <td>0.0</td>
      <td>0.333333</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0.416667</td>
      <td>0.555556</td>
      <td>0.215686</td>
      <td>0.007692</td>
      <td>0.0</td>
      <td>0.533333</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0.216667</td>
      <td>0.777778</td>
      <td>0.607843</td>
      <td>0.077692</td>
      <td>0.0</td>
      <td>0.333333</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>969</th>
      <td>0.200000</td>
      <td>0.555556</td>
      <td>0.215686</td>
      <td>0.692308</td>
      <td>0.0</td>
      <td>0.666667</td>
    </tr>
    <tr>
      <th>970</th>
      <td>0.750000</td>
      <td>0.555556</td>
      <td>0.803922</td>
      <td>0.923077</td>
      <td>0.0</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>971</th>
      <td>0.416667</td>
      <td>0.166667</td>
      <td>0.215686</td>
      <td>1.000000</td>
      <td>0.0</td>
      <td>0.866667</td>
    </tr>
    <tr>
      <th>972</th>
      <td>0.550000</td>
      <td>0.555556</td>
      <td>0.803922</td>
      <td>0.923077</td>
      <td>0.0</td>
      <td>0.333333</td>
    </tr>
    <tr>
      <th>973</th>
      <td>0.366667</td>
      <td>0.555556</td>
      <td>0.313725</td>
      <td>0.000000</td>
      <td>0.6</td>
      <td>0.533333</td>
    </tr>
  </tbody>
</table>
<p>974 rows × 6 columns</p>
</div></div></div>
</div>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="modelling-data">
<h1>MODELLING DATA<a class="headerlink" href="#modelling-data" title="Link to this heading">#</a></h1>
<p>Setelah melakukan preprocessing data untuk membersihkan dan menyiapkan dataset, langkah selanjutnya adalah melakukan modelling data menggunakan algoritma Naive Bayes. Naive Bayes dipilih karena dirancang untuk bekerja dengan baik pada dataset yang memiliki fitur-fitur kategorikal. Algoritma ini tidak memerlukan transformasi rumit atau pengkodean ulang variabel kategorikal, sehingga mempermudah proses pemodelan.</p>
<section id="perhitungan-naive-bayes">
<h2>1. Perhitungan Naive bayes<a class="headerlink" href="#perhitungan-naive-bayes" title="Link to this heading">#</a></h2>
<p>Naive Bayes, atau kadang disebut Naïve Bayes Classifier, adalah algoritma machine learning probabilistik yang digunakan dalam berbagai macam tugas klasifikasi. Naive Bayes Classifier adalah sebuah algoritma klasifikasi yang didasarkan pada teorema Bayes dengan asumsi sederhana (naive) bahwa setiap fitur dalam dataset adalah independen satu sama lain. berikut adalah rumus nya:</p>
<div class="math notranslate nohighlight">
\[ P(H \mid A) = \frac{P(A \mid H) \cdot P(H)}{P(A)} \]</div>
<p>Di mana:</p>
<p>𝑃(𝐻∣𝐴) adalah probabilitas posterior dari kelas 𝐻 jika diberikan fitur 𝐴
𝑃(𝐴∣𝐻) adalah probabilitas likelihood dari fitur 𝐴 jika kelasnya adalah 𝐻
𝑃(𝐻) adalah probabilitas prior dari kelas 𝐻
𝑃(𝐴) adalah probabilitas prior dari fitur 𝐴</p>
<p>Berikut langkah - langkah perhitungannya:</p>
<section id="a-memecah-antara-data-testing-dan-data-training">
<h3>A. Memecah antara data testing dan data training<a class="headerlink" href="#a-memecah-antara-data-testing-dan-data-training" title="Link to this heading">#</a></h3>
<p>Langkah pertama dalam proses modelling data adalah memecah dataset menjadi dua bagian utama: data training dan data testing. Data training digunakan untuk melatih model machine learning, sedangkan data testing digunakan untuk menguji seberapa baik model tersebut melakukan prediksi pada data yang belum pernah dilihat sebelumnya. Dibawah ini dapat dilihat bahwa data training di inisialisai dengan variable X_train dan Y_train. Sedangkan variable X_test dan Y_test digunakan untuk menyimpan data testing. Data akan dibagi menjadi dua yakni data training sebanyak 80 % dan data testing sebanyak 20%.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span> <span class="p">,</span> 
                          <span class="n">random_state</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> 
                          <span class="n">train_size</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;X_train</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span><span class="n">X_train</span><span class="p">,</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2"> X_test</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2"> y_train</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2"> y_test</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span><span class="n">y_test</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>X_train
      Age  SystolicBP  DiastolicBP    BS  BodyTemp  HeartRate
18    40         140          100  18.0      98.0         90
715   29         130           70   6.7      98.0         78
501   19          90           70   7.5      98.0         80
316   22          90           65   6.9      98.0         78
345   35         120           80   6.9      98.0         80
..   ...         ...          ...   ...       ...        ...
835   19         120           80   7.0      98.0         70
192   17          85           60   9.0     102.0         86
629   48         120           80  11.0      98.0         88
559   15         120           80   7.5      98.0         70
684   25         120           90   6.7     101.0         80

[779 rows x 6 columns] 
 X_test
      Age  SystolicBP  DiastolicBP    BS  BodyTemp  HeartRate
811   15          70           50   6.0      98.0         70
142   12          95           60   6.7      98.0         77
524   49         120           90   7.5      98.0         77
312   12         120           80   6.9      98.0         80
836   20         110           60   7.0     100.0         70
..   ...         ...          ...   ...       ...        ...
942   55         140           80   7.2     101.0         76
386   15         120           80   7.8      98.0         70
669   34         120           75   8.0      98.0         70
582   55         140           95  19.0      98.0         77
491   32         140          100   7.9      98.0         78

[195 rows x 6 columns] 
 y_train
 18     high risk
715     mid risk
501     low risk
316     low risk
345    high risk
         ...    
835     mid risk
192    high risk
629    high risk
559     low risk
684     mid risk
Name: RiskLevel, Length: 779, dtype: object 
 y_test
 811     mid risk
142     low risk
524     low risk
312     low risk
836     mid risk
         ...    
942    high risk
386     low risk
669     low risk
582    high risk
491    high risk
Name: RiskLevel, Length: 195, dtype: object
</pre></div>
</div>
</div>
</div>
</section>
<section id="b-convert-data-training-untuk-perhitungan-manual">
<h3>B. Convert data training untuk perhitungan manual<a class="headerlink" href="#b-convert-data-training-untuk-perhitungan-manual" title="Link to this heading">#</a></h3>
<p>Data yang telah dibagi kemudian dikonversi untuk memungkinkan perhitungan manual yang lebih mudah dilakukan. Data training diinisialisasi sebagai X_train dan Y_train, sementara X_test dan Y_test digunakan untuk menyimpan data testing.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span>
<span class="n">df2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">y_train</span><span class="p">)</span> 
<span class="n">joined</span> <span class="o">=</span> <span class="n">df1</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">df2</span><span class="p">)</span>
<span class="n">joined</span>

<span class="n">df_X_train</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">joined</span><span class="p">)</span>
<span class="n">df_X_train</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s2">&quot;TrainingData_MaternalHealth.csv&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="c-memeriksa-hasil-prediksi-class-antara-data-asli-dan-data-testing">
<h3>C. Memeriksa hasil prediksi class antara data asli dan data testing<a class="headerlink" href="#c-memeriksa-hasil-prediksi-class-antara-data-asli-dan-data-testing" title="Link to this heading">#</a></h3>
<p>Hasil prediksi kelas antara data asli (class testing) dan data testing (class pred) menggunakan metode Gaussian Naive Bayes ditampilkan. Analisis ini penting untuk mengukur akurasi model dan mengidentifikasi pola prediksi yang mungkin. Dapat dilihat bahwasanya terdapat dua kolom utama :</p>
<ol class="arabic simple">
<li><p>class testing : berisi class asli dari data
2.class pred : berisi class hasil diprediksi oleh model</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Prediksi kategori menggunakan naive baise</span>
<span class="kn">from</span> <span class="nn">sklearn.naive_bayes</span> <span class="kn">import</span> <span class="n">GaussianNB</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span> 

<span class="n">clf</span> <span class="o">=</span> <span class="n">GaussianNB</span><span class="p">()</span>
<span class="n">clf</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">clf</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>

<span class="n">df_pred</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">y_pred</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Risk Level predict&quot;</span><span class="p">])</span>
<span class="n">df_testing</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">y_test</span><span class="p">)</span>

<span class="n">df_testing</span> <span class="o">=</span> <span class="n">df_testing</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">df_testing</span> <span class="o">=</span> <span class="n">df_testing</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;index&#39;</span><span class="p">])</span>
<span class="n">df_testing</span> <span class="o">=</span> <span class="n">df_testing</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Risk Level&#39;</span><span class="p">:</span> <span class="s1">&#39;Risk Level testing&#39;</span><span class="p">})</span>

<span class="n">df_testing</span><span class="p">[</span><span class="s2">&quot;Risk Level pred&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_pred</span>
<span class="n">df_testing</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>RiskLevel</th>
      <th>Risk Level pred</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>mid risk</td>
      <td>low risk</td>
    </tr>
    <tr>
      <th>1</th>
      <td>low risk</td>
      <td>low risk</td>
    </tr>
    <tr>
      <th>2</th>
      <td>low risk</td>
      <td>low risk</td>
    </tr>
    <tr>
      <th>3</th>
      <td>low risk</td>
      <td>low risk</td>
    </tr>
    <tr>
      <th>4</th>
      <td>mid risk</td>
      <td>low risk</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>190</th>
      <td>high risk</td>
      <td>high risk</td>
    </tr>
    <tr>
      <th>191</th>
      <td>low risk</td>
      <td>low risk</td>
    </tr>
    <tr>
      <th>192</th>
      <td>low risk</td>
      <td>low risk</td>
    </tr>
    <tr>
      <th>193</th>
      <td>high risk</td>
      <td>high risk</td>
    </tr>
    <tr>
      <th>194</th>
      <td>high risk</td>
      <td>high risk</td>
    </tr>
  </tbody>
</table>
<p>195 rows × 2 columns</p>
</div></div></div>
</div>
</section>
<section id="d-menghitung-data-akurasi-dari-data-testing">
<h3>D. Menghitung data akurasi dari data testing<a class="headerlink" href="#d-menghitung-data-akurasi-dari-data-testing" title="Link to this heading">#</a></h3>
<p>Setelah memeriksa hasil prediksi class dari object dan predict. Selanjutnya,akan dilakukan perhitungan untuk menghitung akurasi prediksi terhadap data testing dan mengkonversinya menjadi persentase. Setelah itu, hasil yang didapat berupa nilai akurasi dan confusion matrix akan dicetak dan divisualisasikan menggunakan ‘matplotlib’ untuk memudahkan menganalisis prediksi model yang ada.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">accuracy_score</span><span class="p">,</span> <span class="n">confusion_matrix</span><span class="p">,</span><span class="n">ConfusionMatrixDisplay</span>
<span class="kn">from</span> <span class="nn">sklearn.datasets</span> <span class="kn">import</span> <span class="n">make_classification</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="n">accuracy</span> <span class="o">=</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>
<span class="n">accuracy</span> <span class="o">=</span> <span class="n">accuracy</span> <span class="o">*</span> <span class="mi">100</span>
<span class="n">c_matrix</span> <span class="o">=</span> <span class="n">confusion_matrix</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">clf</span><span class="o">.</span><span class="n">classes_</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;AKURASI :&quot;</span><span class="p">,</span>  <span class="s2">&quot;</span><span class="si">{:.3f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">accuracy</span><span class="p">),</span><span class="s2">&quot;%&quot;</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Confusion Matrix : </span><span class="se">\n</span><span class="s1"> </span><span class="si">{</span><span class="n">c_matrix</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="n">disp</span> <span class="o">=</span> <span class="n">ConfusionMatrixDisplay</span><span class="p">(</span><span class="n">confusion_matrix</span><span class="o">=</span><span class="n">c_matrix</span><span class="p">,</span> <span class="n">display_labels</span><span class="o">=</span><span class="n">clf</span><span class="o">.</span><span class="n">classes_</span><span class="p">)</span>
<span class="n">disp</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>AKURASI : 67.179 %

Confusion Matrix : 
 [[40  4  9]
 [ 0 83  7]
 [ 3 41  8]]
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/3adc9e24d0055d758a6a30e163a45d3f79fa09bffd3a1e8a3a8019c6397917d9.png"><img alt="_images/3adc9e24d0055d758a6a30e163a45d3f79fa09bffd3a1e8a3a8019c6397917d9.png" src="_images/3adc9e24d0055d758a6a30e163a45d3f79fa09bffd3a1e8a3a8019c6397917d9.png" style="width: 549px; height: 432px;" /></a>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sample</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">32</span><span class="p">,</span> <span class="mi">140</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mf">7.9</span><span class="p">,</span><span class="mi">98</span><span class="p">,</span><span class="mi">78</span>
<span class="p">]])</span>
<span class="n">sample_pred</span> <span class="o">=</span> <span class="n">clf</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span>
<span class="n">sample_pred</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/shared-libs/python3.9/py/lib/python3.9/site-packages/sklearn/base.py:450: UserWarning: X does not have valid feature names, but GaussianNB was fitted with feature names
  warnings.warn(
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([&#39;high risk&#39;], dtype=&#39;&lt;U9&#39;)
</pre></div>
</div>
</div>
</div>
</section>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="ensemble-learning">
<h1>ENSEMBLE LEARNING<a class="headerlink" href="#ensemble-learning" title="Link to this heading">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.neighbors</span> <span class="kn">import</span> <span class="n">KNeighborsClassifier</span>
<span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">LabelEncoder</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span> 

<span class="c1"># Awal Bagian 2</span>
<span class="n">clf_KNN3</span><span class="o">=</span> <span class="n">KNeighborsClassifier</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">clf_KNN5</span> <span class="o">=</span> <span class="n">KNeighborsClassifier</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="c1"># Akhir bagian 2</span>

<span class="c1">#awal bagian 3</span>
<span class="n">clf_KNN3</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
<span class="n">clf_KNN5</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
<span class="c1">#akhir bagian 3</span>

<span class="c1">#awal bagian 4</span>
<span class="n">y_pred_KNN3</span> <span class="o">=</span> <span class="n">clf_KNN3</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span>
<span class="n">y_pred_KNN5</span> <span class="o">=</span> <span class="n">clf_KNN5</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span>
<span class="c1">#akhir bagian 4</span>

<span class="c1">#awal bagian 5</span>
<span class="n">le</span> <span class="o">=</span> <span class="n">LabelEncoder</span><span class="p">()</span>

<span class="n">df_pred_KNN3_enc</span> <span class="o">=</span> <span class="n">le</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">y_pred_KNN3</span><span class="p">)</span>
<span class="n">df_pred_KNN5_enc</span> <span class="o">=</span> <span class="n">le</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">y_pred_KNN5</span><span class="p">)</span> <span class="c1"># proses encoding</span>


<span class="n">df_pred_KNN3</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">df_pred_KNN3_enc</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;KNN3&quot;</span><span class="p">])</span>
<span class="n">df_pred_KNN5</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">df_pred_KNN5_enc</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;KNN5&quot;</span><span class="p">])</span> <span class="c1"># penggabungan data fisrt learner</span>

<span class="n">df_train</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">y_train</span><span class="p">)</span>

<span class="n">y_train</span> <span class="o">=</span> <span class="n">y_train</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">y_train</span> <span class="o">=</span> <span class="n">y_train</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;index&#39;</span><span class="p">])</span>


<span class="n">df_pred_combined_train</span><span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">df_pred_KNN3</span><span class="p">,</span> <span class="n">df_pred_KNN5</span><span class="p">,</span> <span class="n">y_train</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span> <span class="c1">#penggabungan data  dengan y_train</span>
<span class="n">df_pred_combined_train</span> <span class="c1"># df_pred_combined merupakan dataset baru hasil dari kedua model first learner</span>

<span class="c1">#akhir bagian 5</span>

<span class="n">label_mapping</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">le</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">le</span><span class="o">.</span><span class="n">classes_</span><span class="p">),</span> <span class="n">le</span><span class="o">.</span><span class="n">classes_</span><span class="p">))</span>

<span class="c1"># Print the mapping</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Encoded value to label mapping:&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">encoded_value</span><span class="p">,</span> <span class="n">label</span> <span class="ow">in</span> <span class="n">label_mapping</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">encoded_value</span><span class="si">}</span><span class="s2"> = </span><span class="si">{</span><span class="n">label</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">df_pred_combined_train</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Encoded value to label mapping:
0 = high risk
1 = low risk
2 = mid risk
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>KNN3</th>
      <th>KNN5</th>
      <th>RiskLevel</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>0</td>
      <td>high risk</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>2</td>
      <td>mid risk</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1</td>
      <td>1</td>
      <td>low risk</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2</td>
      <td>2</td>
      <td>low risk</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1</td>
      <td>1</td>
      <td>high risk</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>774</th>
      <td>2</td>
      <td>1</td>
      <td>mid risk</td>
    </tr>
    <tr>
      <th>775</th>
      <td>0</td>
      <td>2</td>
      <td>high risk</td>
    </tr>
    <tr>
      <th>776</th>
      <td>0</td>
      <td>0</td>
      <td>high risk</td>
    </tr>
    <tr>
      <th>777</th>
      <td>1</td>
      <td>1</td>
      <td>low risk</td>
    </tr>
    <tr>
      <th>778</th>
      <td>2</td>
      <td>2</td>
      <td>mid risk</td>
    </tr>
  </tbody>
</table>
<p>779 rows × 3 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">y_pred_KNN3_test</span> <span class="o">=</span> <span class="n">clf_KNN3</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
<span class="n">y_pred_KNN5_test</span> <span class="o">=</span> <span class="n">clf_KNN5</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>

<span class="n">df_pred_KNN3_enc_test</span> <span class="o">=</span> <span class="n">le</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">y_pred_KNN3_test</span><span class="p">)</span>
<span class="n">df_pred_KNN5_enc_test</span> <span class="o">=</span> <span class="n">le</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">y_pred_KNN5_test</span><span class="p">)</span>

<span class="n">df_pred_KNN3_test</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">df_pred_KNN3_enc_test</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;KNN3&quot;</span><span class="p">])</span>
<span class="n">df_pred_KNN5_test</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">df_pred_KNN5_enc_test</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;KNN5&quot;</span><span class="p">])</span> <span class="c1"># penggabungan data fisrt learner</span>

<span class="n">df_train</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">y_test</span><span class="p">)</span>

<span class="n">y_test</span> <span class="o">=</span> <span class="n">y_test</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">y_test</span> <span class="o">=</span> <span class="n">y_test</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;index&#39;</span><span class="p">])</span>


<span class="n">df_pred_combined_test</span><span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">df_pred_KNN3_test</span><span class="p">,</span> <span class="n">df_pred_KNN5_test</span><span class="p">,</span> <span class="n">y_test</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span> <span class="c1">#penggabungan data  dengan y_test</span>
<span class="n">df_pred_combined_test</span> <span class="c1"># df_pred_combined merupakan dataset baru hasil dari kedua model first learner</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>KNN3</th>
      <th>KNN5</th>
      <th>RiskLevel</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>1</td>
      <td>mid risk</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>1</td>
      <td>low risk</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2</td>
      <td>1</td>
      <td>low risk</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0</td>
      <td>0</td>
      <td>low risk</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2</td>
      <td>2</td>
      <td>mid risk</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>190</th>
      <td>2</td>
      <td>2</td>
      <td>high risk</td>
    </tr>
    <tr>
      <th>191</th>
      <td>1</td>
      <td>1</td>
      <td>low risk</td>
    </tr>
    <tr>
      <th>192</th>
      <td>0</td>
      <td>0</td>
      <td>low risk</td>
    </tr>
    <tr>
      <th>193</th>
      <td>0</td>
      <td>0</td>
      <td>high risk</td>
    </tr>
    <tr>
      <th>194</th>
      <td>0</td>
      <td>0</td>
      <td>high risk</td>
    </tr>
  </tbody>
</table>
<p>195 rows × 3 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x_train_meta</span> <span class="o">=</span> <span class="n">df_pred_combined_train</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="s1">&#39;number&#39;</span><span class="p">)</span> <span class="c1">#Include hanya number</span>

<span class="c1"># memilih column paling belakang (kanan)</span>
<span class="n">y_train_meta</span> <span class="o">=</span> <span class="n">df_pred_combined_train</span><span class="p">[</span><span class="n">df_pred_combined_train</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">df_pred_combined_train</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]]</span>

<span class="n">x_test_meta</span> <span class="o">=</span> <span class="n">df_pred_combined_test</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="s1">&#39;number&#39;</span><span class="p">)</span>
<span class="n">y_test_meta</span> <span class="o">=</span> <span class="n">df_pred_combined_test</span><span class="p">[</span><span class="n">df_pred_combined_test</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">df_pred_combined_test</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]]</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;x_train Meta </span><span class="se">\n</span><span class="s1"> </span><span class="si">{</span><span class="n">x_train_meta</span><span class="si">}</span><span class="s1"> </span><span class="se">\n\n</span><span class="s1"> y_train_meta </span><span class="se">\n</span><span class="s1"> </span><span class="si">{</span><span class="n">y_train_meta</span><span class="si">}</span><span class="s1"> </span><span class="se">\n\n</span><span class="s1"> x_test_meta </span><span class="se">\n</span><span class="s1"> </span><span class="si">{</span><span class="n">x_test_meta</span><span class="si">}</span><span class="s1"> </span><span class="se">\n\n</span><span class="s1"> y_test_meta </span><span class="se">\n</span><span class="s1"> </span><span class="si">{</span><span class="n">y_test_meta</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>x_train Meta 
      KNN3  KNN5
0       0     0
1       2     2
2       1     1
3       2     2
4       1     1
..    ...   ...
774     2     1
775     0     2
776     0     0
777     1     1
778     2     2

[779 rows x 2 columns] 

 y_train_meta 
 0      high risk
1       mid risk
2       low risk
3       low risk
4      high risk
         ...    
774     mid risk
775    high risk
776    high risk
777     low risk
778     mid risk
Name: RiskLevel, Length: 779, dtype: object 

 x_test_meta 
      KNN3  KNN5
0       1     1
1       1     1
2       2     1
3       0     0
4       2     2
..    ...   ...
190     2     2
191     1     1
192     0     0
193     0     0
194     0     0

[195 rows x 2 columns] 

 y_test_meta 
 0       mid risk
1       low risk
2       low risk
3       low risk
4       mid risk
         ...    
190    high risk
191     low risk
192     low risk
193    high risk
194    high risk
Name: RiskLevel, Length: 195, dtype: object
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.naive_bayes</span> <span class="kn">import</span> <span class="n">GaussianNB</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span> 

<span class="c1"># awal bagian 1</span>
<span class="n">clf_meta</span> <span class="o">=</span> <span class="n">GaussianNB</span><span class="p">()</span>
<span class="n">clf_meta</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">x_train_meta</span><span class="p">,</span> <span class="n">y_train_meta</span><span class="p">)</span>
<span class="c1"># akhir bagian 1</span>

<span class="c1"># awal bagian 2</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">clf_meta</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">x_test_meta</span><span class="p">)</span>
<span class="c1">#akhir bagian 2</span>

<span class="n">df_pred</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">y_pred</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;class predict&quot;</span><span class="p">])</span>
<span class="n">df_testing</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">y_test_meta</span><span class="p">)</span>


<span class="n">df_testing</span> <span class="o">=</span> <span class="n">df_testing</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">df_testing</span> <span class="o">=</span> <span class="n">df_testing</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;index&#39;</span><span class="p">])</span>
<span class="n">df_testing</span> <span class="o">=</span> <span class="n">df_testing</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Class&#39;</span><span class="p">:</span> <span class="s1">&#39;class asli&#39;</span><span class="p">})</span>

<span class="n">df_testing</span><span class="p">[</span><span class="s2">&quot;class pred meta&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_pred</span>
<span class="n">df_testing</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>RiskLevel</th>
      <th>class pred meta</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>mid risk</td>
      <td>low risk</td>
    </tr>
    <tr>
      <th>1</th>
      <td>low risk</td>
      <td>low risk</td>
    </tr>
    <tr>
      <th>2</th>
      <td>low risk</td>
      <td>mid risk</td>
    </tr>
    <tr>
      <th>3</th>
      <td>low risk</td>
      <td>high risk</td>
    </tr>
    <tr>
      <th>4</th>
      <td>mid risk</td>
      <td>mid risk</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>190</th>
      <td>high risk</td>
      <td>mid risk</td>
    </tr>
    <tr>
      <th>191</th>
      <td>low risk</td>
      <td>low risk</td>
    </tr>
    <tr>
      <th>192</th>
      <td>low risk</td>
      <td>high risk</td>
    </tr>
    <tr>
      <th>193</th>
      <td>high risk</td>
      <td>high risk</td>
    </tr>
    <tr>
      <th>194</th>
      <td>high risk</td>
      <td>high risk</td>
    </tr>
  </tbody>
</table>
<p>195 rows × 2 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">accuracy_score</span><span class="p">,</span> <span class="n">confusion_matrix</span><span class="p">,</span><span class="n">ConfusionMatrixDisplay</span>
<span class="kn">from</span> <span class="nn">sklearn.datasets</span> <span class="kn">import</span> <span class="n">make_classification</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="n">accuracy</span> <span class="o">=</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test_meta</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>
<span class="n">accuracy</span> <span class="o">=</span> <span class="n">accuracy</span> <span class="o">*</span> <span class="mi">100</span>
<span class="n">c_matrix</span> <span class="o">=</span> <span class="n">confusion_matrix</span><span class="p">(</span><span class="n">y_test_meta</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">clf</span><span class="o">.</span><span class="n">classes_</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;AKURASI :&quot;</span><span class="p">,</span>  <span class="s2">&quot;</span><span class="si">{:.3f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">accuracy</span><span class="p">),</span><span class="s2">&quot;%&quot;</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Confusion Matrix : </span><span class="se">\n</span><span class="s1"> </span><span class="si">{</span><span class="n">c_matrix</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>AKURASI : 72.821 %

Confusion Matrix : 
 [[42  6  5]
 [ 2 66 22]
 [ 7 11 34]]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="c1">#bagian 1</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">&#39;RiskLevel&#39;</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;RiskLevel&#39;</span><span class="p">]</span>

<span class="n">x_train</span><span class="p">,</span> <span class="n">x_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span> <span class="p">,</span> 
                          <span class="n">random_state</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> 
                          <span class="n">train_size</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1">#akhir bagian 1</span>

<span class="c1">#bagian 2</span>
<span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">LabelEncoder</span>
<span class="n">le</span> <span class="o">=</span> <span class="n">LabelEncoder</span><span class="p">()</span>
<span class="n">y_test_enc</span> <span class="o">=</span> <span class="n">le</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">y_test</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;HASIL ENCODER DARI Y_TEST &quot;</span><span class="p">)</span>
<span class="n">y_test_enc</span>
<span class="c1">#akhir bagian 2</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>HASIL ENCODER DARI Y_TEST 
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([2, 1, 1, 1, 2, 1, 1, 1, 1, 2, 2, 2, 0, 2, 0, 2, 1, 0, 0, 1, 1, 2,
       2, 1, 1, 1, 2, 1, 2, 1, 1, 1, 1, 0, 1, 2, 0, 1, 2, 1, 2, 1, 2, 2,
       2, 1, 1, 2, 0, 0, 0, 0, 2, 0, 1, 2, 1, 2, 0, 1, 0, 1, 1, 2, 0, 2,
       1, 2, 1, 1, 0, 1, 1, 2, 1, 1, 0, 0, 2, 0, 1, 1, 1, 1, 1, 0, 2, 1,
       1, 1, 2, 1, 2, 1, 1, 0, 0, 2, 0, 2, 2, 1, 1, 1, 2, 2, 1, 0, 1, 1,
       1, 2, 0, 1, 0, 1, 1, 1, 2, 1, 1, 0, 1, 1, 1, 0, 1, 0, 0, 0, 2, 0,
       0, 2, 2, 0, 0, 1, 1, 1, 1, 0, 1, 2, 2, 1, 2, 1, 0, 1, 1, 1, 2, 0,
       0, 2, 1, 2, 2, 0, 0, 0, 0, 0, 0, 1, 2, 2, 1, 1, 0, 1, 0, 2, 0, 2,
       0, 1, 0, 1, 0, 1, 1, 1, 2, 1, 1, 1, 1, 2, 0, 1, 1, 0, 0])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.svm</span> <span class="kn">import</span> <span class="n">SVC</span>
<span class="kn">from</span> <span class="nn">sklearn.naive_bayes</span> <span class="kn">import</span> <span class="n">GaussianNB</span>
<span class="kn">from</span> <span class="nn">sklearn.ensemble</span> <span class="kn">import</span> <span class="n">BaggingClassifier</span>
<span class="kn">from</span> <span class="nn">sklearn.datasets</span> <span class="kn">import</span> <span class="n">make_classification</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">accuracy_score</span>
<span class="kn">import</span> <span class="nn">pickle</span>



<span class="k">def</span> <span class="nf">bagging</span><span class="p">(</span><span class="n">x_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span><span class="n">x_test</span><span class="p">,</span><span class="n">y_test</span><span class="p">,</span><span class="n">jumlah_juri</span><span class="p">):</span>
    <span class="n">accuracy</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="c1"># menentukan rentang mulai dari 3 hingga jumlah_juri (termasuk) dengan langkah penambahan sebesar 1 pada setiap iterasi.</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">jumlah_juri</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span> 
        <span class="n">clf</span> <span class="o">=</span> <span class="n">BaggingClassifier</span><span class="p">(</span><span class="n">base_estimator</span><span class="o">=</span><span class="n">GaussianNB</span><span class="p">(),</span><span class="n">n_estimators</span><span class="o">=</span><span class="n">i</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">x_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
        <span class="n">y_pred</span> <span class="o">=</span> <span class="n">clf</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">x_test</span><span class="p">)</span>
        <span class="n">le</span> <span class="o">=</span> <span class="n">LabelEncoder</span><span class="p">()</span>
        <span class="n">y_pred_enc</span> <span class="o">=</span> <span class="n">le</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">y_pred</span><span class="p">)</span>
        <span class="n">acc</span> <span class="o">=</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred_enc</span><span class="p">)</span>
        <span class="n">accuracy</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">acc</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">accuracy</span>


<span class="n">jumlah_juri</span> <span class="o">=</span> <span class="mi">8</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">bagging</span><span class="p">(</span><span class="n">x_train</span><span class="p">,</span><span class="n">y_train</span><span class="p">,</span><span class="n">x_test</span><span class="p">,</span><span class="n">y_test_enc</span><span class="p">,</span><span class="n">jumlah_juri</span><span class="p">)</span>
<span class="n">y</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">&#39;n_estimator&#39;</span> <span class="p">:</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">jumlah_juri</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
    <span class="s1">&#39;Accuracy&#39;</span> <span class="p">:</span> <span class="n">y</span>
<span class="p">})</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>n_estimator</th>
      <th>Accuracy</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>0.676923</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>0.682051</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>0.692308</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>0.676923</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>0.682051</td>
    </tr>
    <tr>
      <th>5</th>
      <td>6</td>
      <td>0.687179</td>
    </tr>
    <tr>
      <th>6</th>
      <td>7</td>
      <td>0.676923</td>
    </tr>
    <tr>
      <th>7</th>
      <td>8</td>
      <td>0.671795</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="k">def</span> <span class="nf">make_plot_scatter</span><span class="p">(</span><span class="n">x</span><span class="p">:</span><span class="nb">list</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span><span class="nb">list</span><span class="p">,</span> <span class="n">x_title</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span> <span class="n">y_title</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span> <span class="n">title</span><span class="p">:</span><span class="nb">str</span><span class="p">):</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">jumlah_juri</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="n">make_plot_scatter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="s1">&#39;index&#39;</span><span class="p">,</span> <span class="s1">&#39;acc&#39;</span><span class="p">,</span> <span class="s1">&#39;accuracy bagging&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>No artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.
[1 2 3 4 5 6 7 8]
[0.676923076923077, 0.6820512820512821, 0.6923076923076923, 0.676923076923077, 0.6820512820512821, 0.6871794871794872, 0.676923076923077, 0.6717948717948717]
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/f2684a10620e276390ab5b2d0c04caa7acce0f77f26d35f239a68f3e33d35060.png"><img alt="_images/f2684a10620e276390ab5b2d0c04caa7acce0f77f26d35f239a68f3e33d35060.png" src="_images/f2684a10620e276390ab5b2d0c04caa7acce0f77f26d35f239a68f3e33d35060.png" style="width: 565px; height: 413px;" /></a>
</div>
</div>
<a style='text-decoration:none;line-height:16px;display:flex;color:#5B5B62;padding:10px;justify-content:end;' href='https://deepnote.com?utm_source=created-in-deepnote-cell&projectId=a50c7c16-c243-4588-8d1b-419e2e029a4c' target="_blank">
<img alt='Created in deepnote.com' style='display:inline;max-height:16px;margin:0px;margin-right:7.5px;' src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDU0LjEgKDc2NDkwKSAtIGh0dHBzOi8vc2tldGNoYXBwLmNvbSAtLT4KICAgIDx0aXRsZT5Hcm91cCAzPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkxhbmRpbmciIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJBcnRib2FyZCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEyMzUuMDAwMDAwLCAtNzkuMDAwMDAwKSI+CiAgICAgICAgICAgIDxnIGlkPSJHcm91cC0zIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMjM1LjAwMDAwMCwgNzkuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8cG9seWdvbiBpZD0iUGF0aC0yMCIgZmlsbD0iIzAyNjVCNCIgcG9pbnRzPSIyLjM3NjIzNzYyIDgwIDM4LjA0NzY2NjcgODAgNTcuODIxNzgyMiA3My44MDU3NTkyIDU3LjgyMTc4MjIgMzIuNzU5MjczOSAzOS4xNDAyMjc4IDMxLjY4MzE2ODMiPjwvcG9seWdvbj4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0zNS4wMDc3MTgsODAgQzQyLjkwNjIwMDcsNzYuNDU0OTM1OCA0Ny41NjQ5MTY3LDcxLjU0MjI2NzEgNDguOTgzODY2LDY1LjI2MTk5MzkgQzUxLjExMjI4OTksNTUuODQxNTg0MiA0MS42NzcxNzk1LDQ5LjIxMjIyODQgMjUuNjIzOTg0Niw0OS4yMTIyMjg0IEMyNS40ODQ5Mjg5LDQ5LjEyNjg0NDggMjkuODI2MTI5Niw0My4yODM4MjQ4IDM4LjY0NzU4NjksMzEuNjgzMTY4MyBMNzIuODcxMjg3MSwzMi41NTQ0MjUgTDY1LjI4MDk3Myw2Ny42NzYzNDIxIEw1MS4xMTIyODk5LDc3LjM3NjE0NCBMMzUuMDA3NzE4LDgwIFoiIGlkPSJQYXRoLTIyIiBmaWxsPSIjMDAyODY4Ij48L3BhdGg+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMCwzNy43MzA0NDA1IEwyNy4xMTQ1MzcsMC4yNTcxMTE0MzYgQzYyLjM3MTUxMjMsLTEuOTkwNzE3MDEgODAsMTAuNTAwMzkyNyA4MCwzNy43MzA0NDA1IEM4MCw2NC45NjA0ODgyIDY0Ljc3NjUwMzgsNzkuMDUwMzQxNCAzNC4zMjk1MTEzLDgwIEM0Ny4wNTUzNDg5LDc3LjU2NzA4MDggNTMuNDE4MjY3Nyw3MC4zMTM2MTAzIDUzLjQxODI2NzcsNTguMjM5NTg4NSBDNTMuNDE4MjY3Nyw0MC4xMjg1NTU3IDM2LjMwMzk1NDQsMzcuNzMwNDQwNSAyNS4yMjc0MTcsMzcuNzMwNDQwNSBDMTcuODQzMDU4NiwzNy43MzA0NDA1IDkuNDMzOTE5NjYsMzcuNzMwNDQwNSAwLDM3LjczMDQ0MDUgWiIgaWQ9IlBhdGgtMTkiIGZpbGw9IiMzNzkzRUYiPjwvcGF0aD4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+' > </img>
Created in <span style='font-weight:600;margin-left:4px;'>Deepnote</span></a></section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="markdown.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Markdown Files</p>
      </div>
    </a>
    <a class="right-next"
       href="markdown-notebooks.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Notebooks with MyST Markdown</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">MEMAHAMI DATA</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#memahami-cara-memperoleh-data-bagaimana-data-didapat">1. Memahami cara memperoleh data (bagaimana data didapat)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#eksplorasi-data">2. Eksplorasi Data</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tipe-data-pada-setiap-kolom">3. Tipe data pada setiap kolom</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#identifikasi-kualitas-data">4. Identifikasi kualitas data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#a-pemeriksaan-missing-values">A. PEMERIKSAAN MISSING VALUES</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#b-pemeriksaan-local-outlier-factor-lof">B. PEMERIKSAAN LOCAL OUTLIER FACTOR (LOF)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#preprocessing-data">PREPROCESSING DATA</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#penghapusan-outlier-dengan-lof">1. Penghapusan Outlier dengan LOF</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#memisah-antar-fitur-dan-class">2. Memisah antar fitur dan class</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#normalisasi-data">3. Normalisasi Data</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#modelling-data">MODELLING DATA</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#perhitungan-naive-bayes">1. Perhitungan Naive bayes</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#a-memecah-antara-data-testing-dan-data-training">A. Memecah antara data testing dan data training</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#b-convert-data-training-untuk-perhitungan-manual">B. Convert data training untuk perhitungan manual</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#c-memeriksa-hasil-prediksi-class-antara-data-asli-dan-data-testing">C. Memeriksa hasil prediksi class antara data asli dan data testing</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#d-menghitung-data-akurasi-dari-data-testing">D. Menghitung data akurasi dari data testing</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#ensemble-learning">ENSEMBLE LEARNING</a></li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By The Jupyter Book Community
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=3ee479438cf8b5e0d341"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=3ee479438cf8b5e0d341"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>